#include "math.h"

const uint8_t div10[0x400] = {
        0,0,0,0,0,0,0,0,0,0,
        1,1,1,1,1,1,1,1,1,1,
        2,2,2,2,2,2,2,2,2,2,
        3,3,3,3,3,3,3,3,3,3,
        4,4,4,4,4,4,4,4,4,4,
        5,5,5,5,5,5,5,5,5,5,
        6,6,6,6,6,6,6,6,6,6,
        7,7,7,7,7,7,7,7,7,7,
        8,8,8,8,8,8,8,8,8,8,
        9,9,9,9,9,9,9,9,9,9,
        10,10,10,10,10,10,10,10,10,10,
        11,11,11,11,11,11,11,11,11,11,
        12,12,12,12,12,12,12,12,12,12,
        13,13,13,13,13,13,13,13,13,13,
        14,14,14,14,14,14,14,14,14,14,
        15,15,15,15,15,15,15,15,15,15,
        16,16,16,16,16,16,16,16,16,16,
        17,17,17,17,17,17,17,17,17,17,
        18,18,18,18,18,18,18,18,18,18,
        19,19,19,19,19,19,19,19,19,19,
        20,20,20,20,20,20,20,20,20,20,
        21,21,21,21,21,21,21,21,21,21,
        22,22,22,22,22,22,22,22,22,22,
        23,23,23,23,23,23,23,23,23,23,
        24,24,24,24,24,24,24,24,24,24,
        25,25,25,25,25,25,25,25,25,25,
        26,26,26,26,26,26,26,26,26,26,
        27,27,27,27,27,27,27,27,27,27,
        28,28,28,28,28,28,28,28,28,28,
        29,29,29,29,29,29,29,29,29,29,
        30,30,30,30,30,30,30,30,30,30,
        31,31,31,31,31,31,31,31,31,31,
        32,32,32,32,32,32,32,32,32,32,
        33,33,33,33,33,33,33,33,33,33,
        34,34,34,34,34,34,34,34,34,34,
        35,35,35,35,35,35,35,35,35,35,
        36,36,36,36,36,36,36,36,36,36,
        37,37,37,37,37,37,37,37,37,37,
        38,38,38,38,38,38,38,38,38,38,
        39,39,39,39,39,39,39,39,39,39,
        40,40,40,40,40,40,40,40,40,40,
        41,41,41,41,41,41,41,41,41,41,
        42,42,42,42,42,42,42,42,42,42,
        43,43,43,43,43,43,43,43,43,43,
        44,44,44,44,44,44,44,44,44,44,
        45,45,45,45,45,45,45,45,45,45,
        46,46,46,46,46,46,46,46,46,46,
        47,47,47,47,47,47,47,47,47,47,
        48,48,48,48,48,48,48,48,48,48,
        49,49,49,49,49,49,49,49,49,49,
        50,50,50,50,50,50,50,50,50,50,
        51,51,51,51,51,51,51,51,51,51,
        52,52,52,52,52,52,52,52,52,52,
        53,53,53,53,53,53,53,53,53,53,
        54,54,54,54,54,54,54,54,54,54,
        55,55,55,55,55,55,55,55,55,55,
        56,56,56,56,56,56,56,56,56,56,
        57,57,57,57,57,57,57,57,57,57,
        58,58,58,58,58,58,58,58,58,58,
        59,59,59,59,59,59,59,59,59,59,
        60,60,60,60,60,60,60,60,60,60,
        61,61,61,61,61,61,61,61,61,61,
        62,62,62,62,62,62,62,62,62,62,
        63,63,63,63,63,63,63,63,63,63,
        64,64,64,64,64,64,64,64,64,64,
        65,65,65,65,65,65,65,65,65,65,
        66,66,66,66,66,66,66,66,66,66,
        67,67,67,67,67,67,67,67,67,67,
        68,68,68,68,68,68,68,68,68,68,
        69,69,69,69,69,69,69,69,69,69,
        70,70,70,70,70,70,70,70,70,70,
        71,71,71,71,71,71,71,71,71,71,
        72,72,72,72,72,72,72,72,72,72,
        73,73,73,73,73,73,73,73,73,73,
        74,74,74,74,74,74,74,74,74,74,
        75,75,75,75,75,75,75,75,75,75,
        76,76,76,76,76,76,76,76,76,76,
        77,77,77,77,77,77,77,77,77,77,
        78,78,78,78,78,78,78,78,78,78,
        79,79,79,79,79,79,79,79,79,79,
        80,80,80,80,80,80,80,80,80,80,
        81,81,81,81,81,81,81,81,81,81,
        82,82,82,82,82,82,82,82,82,82,
        83,83,83,83,83,83,83,83,83,83,
        84,84,84,84,84,84,84,84,84,84,
        85,85,85,85,85,85,85,85,85,85,
        86,86,86,86,86,86,86,86,86,86,
        87,87,87,87,87,87,87,87,87,87,
        88,88,88,88,88,88,88,88,88,88,
        89,89,89,89,89,89,89,89,89,89,
        90,90,90,90,90,90,90,90,90,90,
        91,91,91,91,91,91,91,91,91,91,
        92,92,92,92,92,92,92,92,92,92,
        93,93,93,93,93,93,93,93,93,93,
        94,94,94,94,94,94,94,94,94,94,
        95,95,95,95,95,95,95,95,95,95,
        96,96,96,96,96,96,96,96,96,96,
        97,97,97,97,97,97,97,97,97,97,
        98,98,98,98,98,98,98,98,98,98,
        99,99,99,99,99,99,99,99,99,99,
        100,100,100,100,100,100,100,100,100,100,
        101,101,101,101,101,101,101,101,101,101,
        102,102,102,102,
};

const uint8_t mod10[0x400] = {
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,
};

const int16_t sin[0x100] = {
        0x0000, 0x000d, 0x0019, 0x0026, 0x0032, 0x003f, 0x004b, 0x0058,
        0x0064, 0x0070, 0x007c, 0x0089, 0x0095, 0x00a1, 0x00ac, 0x00b8,
        0x00c4, 0x00cf, 0x00db, 0x00e6, 0x00f1, 0x00fc, 0x0107, 0x0112,
        0x011c, 0x0127, 0x0131, 0x013b, 0x0145, 0x014e, 0x0158, 0x0161,
        0x016a, 0x0173, 0x017b, 0x0184, 0x018c, 0x0194, 0x019b, 0x01a3,
        0x01aa, 0x01b1, 0x01b7, 0x01bd, 0x01c4, 0x01c9, 0x01cf, 0x01d4,
        0x01d9, 0x01de, 0x01e2, 0x01e6, 0x01ea, 0x01ed, 0x01f1, 0x01f4,
        0x01f6, 0x01f8, 0x01fa, 0x01fc, 0x01fe, 0x01ff, 0x01ff, 0x0200,
        0x0200, 0x0200, 0x01ff, 0x01ff, 0x01fe, 0x01fc, 0x01fa, 0x01f8,
        0x01f6, 0x01f4, 0x01f1, 0x01ed, 0x01ea, 0x01e6, 0x01e2, 0x01de,
        0x01d9, 0x01d4, 0x01cf, 0x01c9, 0x01c4, 0x01bd, 0x01b7, 0x01b1,
        0x01aa, 0x01a3, 0x019b, 0x0194, 0x018c, 0x0184, 0x017b, 0x0173,
        0x016a, 0x0161, 0x0158, 0x014e, 0x0145, 0x013b, 0x0131, 0x0127,
        0x011c, 0x0112, 0x0107, 0x00fc, 0x00f1, 0x00e6, 0x00db, 0x00cf,
        0x00c4, 0x00b8, 0x00ac, 0x00a1, 0x0095, 0x0089, 0x007c, 0x0070,
        0x0064, 0x0058, 0x004b, 0x003f, 0x0032, 0x0026, 0x0019, 0x000d,
        0x0000, 0xfff3, 0xffe7, 0xffda, 0xffce, 0xffc1, 0xffb5, 0xffa8,
        0xff9c, 0xff90, 0xff84, 0xff77, 0xff6b, 0xff5f, 0xff54, 0xff48,
        0xff3c, 0xff31, 0xff25, 0xff1a, 0xff0f, 0xff04, 0xfef9, 0xfeee,
        0xfee4, 0xfed9, 0xfecf, 0xfec5, 0xfebb, 0xfeb2, 0xfea8, 0xfe9f,
        0xfe96, 0xfe8d, 0xfe85, 0xfe7c, 0xfe74, 0xfe6c, 0xfe65, 0xfe5d,
        0xfe56, 0xfe4f, 0xfe49, 0xfe43, 0xfe3c, 0xfe37, 0xfe31, 0xfe2c,
        0xfe27, 0xfe22, 0xfe1e, 0xfe1a, 0xfe16, 0xfe13, 0xfe0f, 0xfe0c,
        0xfe0a, 0xfe08, 0xfe06, 0xfe04, 0xfe02, 0xfe01, 0xfe01, 0xfe00,
        0xfe00, 0xfe00, 0xfe01, 0xfe01, 0xfe02, 0xfe04, 0xfe06, 0xfe08,
        0xfe0a, 0xfe0c, 0xfe0f, 0xfe13, 0xfe16, 0xfe1a, 0xfe1e, 0xfe22,
        0xfe27, 0xfe2c, 0xfe31, 0xfe37, 0xfe3c, 0xfe43, 0xfe49, 0xfe4f,
        0xfe56, 0xfe5d, 0xfe65, 0xfe6c, 0xfe74, 0xfe7c, 0xfe85, 0xfe8d,
        0xfe96, 0xfe9f, 0xfea8, 0xfeb2, 0xfebb, 0xfec5, 0xfecf, 0xfed9,
        0xfee4, 0xfeee, 0xfef9, 0xff04, 0xff0f, 0xff1a, 0xff25, 0xff31,
        0xff3c, 0xff48, 0xff54, 0xff5f, 0xff6b, 0xff77, 0xff84, 0xff90,
        0xff9c, 0xffa8, 0xffb5, 0xffc1, 0xffce, 0xffda, 0xffe7, 0xfff3,
};

const int16_t cos[0x100] = {
        0x0200, 0x0200, 0x01ff, 0x01ff, 0x01fe, 0x01fc, 0x01fa, 0x01f8,
        0x01f6, 0x01f4, 0x01f1, 0x01ed, 0x01ea, 0x01e6, 0x01e2, 0x01de,
        0x01d9, 0x01d4, 0x01cf, 0x01c9, 0x01c4, 0x01bd, 0x01b7, 0x01b1,
        0x01aa, 0x01a3, 0x019b, 0x0194, 0x018c, 0x0184, 0x017b, 0x0173,
        0x016a, 0x0161, 0x0158, 0x014e, 0x0145, 0x013b, 0x0131, 0x0127,
        0x011c, 0x0112, 0x0107, 0x00fc, 0x00f1, 0x00e6, 0x00db, 0x00cf,
        0x00c4, 0x00b8, 0x00ac, 0x00a1, 0x0095, 0x0089, 0x007c, 0x0070,
        0x0064, 0x0058, 0x004b, 0x003f, 0x0032, 0x0026, 0x0019, 0x000d,
        0x0000, 0xfff3, 0xffe7, 0xffda, 0xffce, 0xffc1, 0xffb5, 0xffa8,
        0xff9c, 0xff90, 0xff84, 0xff77, 0xff6b, 0xff5f, 0xff54, 0xff48,
        0xff3c, 0xff31, 0xff25, 0xff1a, 0xff0f, 0xff04, 0xfef9, 0xfeee,
        0xfee4, 0xfed9, 0xfecf, 0xfec5, 0xfebb, 0xfeb2, 0xfea8, 0xfe9f,
        0xfe96, 0xfe8d, 0xfe85, 0xfe7c, 0xfe74, 0xfe6c, 0xfe65, 0xfe5d,
        0xfe56, 0xfe4f, 0xfe49, 0xfe43, 0xfe3c, 0xfe37, 0xfe31, 0xfe2c,
        0xfe27, 0xfe22, 0xfe1e, 0xfe1a, 0xfe16, 0xfe13, 0xfe0f, 0xfe0c,
        0xfe0a, 0xfe08, 0xfe06, 0xfe04, 0xfe02, 0xfe01, 0xfe01, 0xfe00,
        0xfe00, 0xfe00, 0xfe01, 0xfe01, 0xfe02, 0xfe04, 0xfe06, 0xfe08,
        0xfe0a, 0xfe0c, 0xfe0f, 0xfe13, 0xfe16, 0xfe1a, 0xfe1e, 0xfe22,
        0xfe27, 0xfe2c, 0xfe31, 0xfe37, 0xfe3c, 0xfe43, 0xfe49, 0xfe4f,
        0xfe56, 0xfe5d, 0xfe65, 0xfe6c, 0xfe74, 0xfe7c, 0xfe85, 0xfe8d,
        0xfe96, 0xfe9f, 0xfea8, 0xfeb2, 0xfebb, 0xfec5, 0xfecf, 0xfed9,
        0xfee4, 0xfeee, 0xfef9, 0xff04, 0xff0f, 0xff1a, 0xff25, 0xff31,
        0xff3c, 0xff48, 0xff54, 0xff5f, 0xff6b, 0xff77, 0xff84, 0xff90,
        0xff9c, 0xffa8, 0xffb5, 0xffc1, 0xffce, 0xffda, 0xffe7, 0xfff3,
        0x0000, 0x000d, 0x0019, 0x0026, 0x0032, 0x003f, 0x004b, 0x0058,
        0x0064, 0x0070, 0x007c, 0x0089, 0x0095, 0x00a1, 0x00ac, 0x00b8,
        0x00c4, 0x00cf, 0x00db, 0x00e6, 0x00f1, 0x00fc, 0x0107, 0x0112,
        0x011c, 0x0127, 0x0131, 0x013b, 0x0145, 0x014e, 0x0158, 0x0161,
        0x016a, 0x0173, 0x017b, 0x0184, 0x018c, 0x0194, 0x019b, 0x01a3,
        0x01aa, 0x01b1, 0x01b7, 0x01bd, 0x01c4, 0x01c9, 0x01cf, 0x01d4,
        0x01d9, 0x01de, 0x01e2, 0x01e6, 0x01ea, 0x01ed, 0x01f1, 0x01f4,
        0x01f6, 0x01f8, 0x01fa, 0x01fc, 0x01fe, 0x01ff, 0x01ff, 0x0200,
};

const int16_t sin2[0x100] = {
        0x0000, 0x0013, 0x0026, 0x0039, 0x004c, 0x005e, 0x0071, 0x0084,
        0x0096, 0x00a9, 0x00bb, 0x00cd, 0x00df, 0x00f1, 0x0103, 0x0115,
        0x0126, 0x0137, 0x0149, 0x015a, 0x016a, 0x017b, 0x018b, 0x019b,
        0x01ab, 0x01ba, 0x01ca, 0x01d9, 0x01e7, 0x01f6, 0x0204, 0x0212,
        0x021f, 0x022c, 0x0239, 0x0246, 0x0252, 0x025e, 0x0269, 0x0274,
        0x027f, 0x0289, 0x0293, 0x029c, 0x02a6, 0x02ae, 0x02b7, 0x02be,
        0x02c6, 0x02cd, 0x02d3, 0x02d9, 0x02df, 0x02e4, 0x02e9, 0x02ee,
        0x02f1, 0x02f5, 0x02f8, 0x02fa, 0x02fd, 0x02fe, 0x02ff, 0x0300,
        0x0300, 0x0300, 0x02ff, 0x02fe, 0x02fd, 0x02fa, 0x02f8, 0x02f5,
        0x02f1, 0x02ee, 0x02e9, 0x02e4, 0x02df, 0x02d9, 0x02d3, 0x02cd,
        0x02c6, 0x02be, 0x02b7, 0x02ae, 0x02a6, 0x029c, 0x0293, 0x0289,
        0x027f, 0x0274, 0x0269, 0x025e, 0x0252, 0x0246, 0x0239, 0x022c,
        0x021f, 0x0212, 0x0204, 0x01f6, 0x01e7, 0x01d9, 0x01ca, 0x01ba,
        0x01ab, 0x019b, 0x018b, 0x017b, 0x016a, 0x015a, 0x0149, 0x0137,
        0x0126, 0x0115, 0x0103, 0x00f1, 0x00df, 0x00cd, 0x00bb, 0x00a9,
        0x0096, 0x0084, 0x0071, 0x005e, 0x004c, 0x0039, 0x0026, 0x0013,
        0x0000, 0xffed, 0xffda, 0xffc7, 0xffb4, 0xffa2, 0xff8f, 0xff7c,
        0xff6a, 0xff57, 0xff45, 0xff33, 0xff21, 0xff0f, 0xfefd, 0xfeeb,
        0xfeda, 0xfec9, 0xfeb7, 0xfea6, 0xfe96, 0xfe85, 0xfe75, 0xfe65,
        0xfe55, 0xfe46, 0xfe36, 0xfe27, 0xfe19, 0xfe0a, 0xfdfc, 0xfdee,
        0xfde1, 0xfdd4, 0xfdc7, 0xfdba, 0xfdae, 0xfda2, 0xfd97, 0xfd8c,
        0xfd81, 0xfd77, 0xfd6d, 0xfd64, 0xfd5a, 0xfd52, 0xfd49, 0xfd42,
        0xfd3a, 0xfd33, 0xfd2d, 0xfd27, 0xfd21, 0xfd1c, 0xfd17, 0xfd12,
        0xfd0f, 0xfd0b, 0xfd08, 0xfd06, 0xfd03, 0xfd02, 0xfd01, 0xfd00,
        0xfd00, 0xfd00, 0xfd01, 0xfd02, 0xfd03, 0xfd06, 0xfd08, 0xfd0b,
        0xfd0f, 0xfd12, 0xfd17, 0xfd1c, 0xfd21, 0xfd27, 0xfd2d, 0xfd33,
        0xfd3a, 0xfd42, 0xfd49, 0xfd52, 0xfd5a, 0xfd64, 0xfd6d, 0xfd77,
        0xfd81, 0xfd8c, 0xfd97, 0xfda2, 0xfdae, 0xfdba, 0xfdc7, 0xfdd4,
        0xfde1, 0xfdee, 0xfdfc, 0xfe0a, 0xfe19, 0xfe27, 0xfe36, 0xfe46,
        0xfe55, 0xfe65, 0xfe75, 0xfe85, 0xfe96, 0xfea6, 0xfeb7, 0xfec9,
        0xfeda, 0xfeeb, 0xfefd, 0xff0f, 0xff21, 0xff33, 0xff45, 0xff57,
        0xff6a, 0xff7c, 0xff8f, 0xffa2, 0xffb4, 0xffc7, 0xffda, 0xffed,
};

const int16_t cos2[0x100] = {
        0x0300, 0x0300, 0x02ff, 0x02fe, 0x02fd, 0x02fa, 0x02f8, 0x02f5,
        0x02f1, 0x02ee, 0x02e9, 0x02e4, 0x02df, 0x02d9, 0x02d3, 0x02cd,
        0x02c6, 0x02be, 0x02b7, 0x02ae, 0x02a6, 0x029c, 0x0293, 0x0289,
        0x027f, 0x0274, 0x0269, 0x025e, 0x0252, 0x0246, 0x0239, 0x022c,
        0x021f, 0x0212, 0x0204, 0x01f6, 0x01e7, 0x01d9, 0x01ca, 0x01ba,
        0x01ab, 0x019b, 0x018b, 0x017b, 0x016a, 0x015a, 0x0149, 0x0137,
        0x0126, 0x0115, 0x0103, 0x00f1, 0x00df, 0x00cd, 0x00bb, 0x00a9,
        0x0096, 0x0084, 0x0071, 0x005e, 0x004c, 0x0039, 0x0026, 0x0013,
        0x0000, 0xffed, 0xffda, 0xffc7, 0xffb4, 0xffa2, 0xff8f, 0xff7c,
        0xff6a, 0xff57, 0xff45, 0xff33, 0xff21, 0xff0f, 0xfefd, 0xfeeb,
        0xfeda, 0xfec9, 0xfeb7, 0xfea6, 0xfe96, 0xfe85, 0xfe75, 0xfe65,
        0xfe55, 0xfe46, 0xfe36, 0xfe27, 0xfe19, 0xfe0a, 0xfdfc, 0xfdee,
        0xfde1, 0xfdd4, 0xfdc7, 0xfdba, 0xfdae, 0xfda2, 0xfd97, 0xfd8c,
        0xfd81, 0xfd77, 0xfd6d, 0xfd64, 0xfd5a, 0xfd52, 0xfd49, 0xfd42,
        0xfd3a, 0xfd33, 0xfd2d, 0xfd27, 0xfd21, 0xfd1c, 0xfd17, 0xfd12,
        0xfd0f, 0xfd0b, 0xfd08, 0xfd06, 0xfd03, 0xfd02, 0xfd01, 0xfd00,
        0xfd00, 0xfd00, 0xfd01, 0xfd02, 0xfd03, 0xfd06, 0xfd08, 0xfd0b,
        0xfd0f, 0xfd12, 0xfd17, 0xfd1c, 0xfd21, 0xfd27, 0xfd2d, 0xfd33,
        0xfd3a, 0xfd42, 0xfd49, 0xfd52, 0xfd5a, 0xfd64, 0xfd6d, 0xfd77,
        0xfd81, 0xfd8c, 0xfd97, 0xfda2, 0xfdae, 0xfdba, 0xfdc7, 0xfdd4,
        0xfde1, 0xfdee, 0xfdfc, 0xfe0a, 0xfe19, 0xfe27, 0xfe36, 0xfe46,
        0xfe55, 0xfe65, 0xfe75, 0xfe85, 0xfe96, 0xfea6, 0xfeb7, 0xfec9,
        0xfeda, 0xfeeb, 0xfefd, 0xff0f, 0xff21, 0xff33, 0xff45, 0xff57,
        0xff6a, 0xff7c, 0xff8f, 0xffa2, 0xffb4, 0xffc7, 0xffda, 0xffed,
        0x0000, 0x0013, 0x0026, 0x0039, 0x004c, 0x005e, 0x0071, 0x0084,
        0x0096, 0x00a9, 0x00bb, 0x00cd, 0x00df, 0x00f1, 0x0103, 0x0115,
        0x0126, 0x0137, 0x0149, 0x015a, 0x016a, 0x017b, 0x018b, 0x019b,
        0x01ab, 0x01ba, 0x01ca, 0x01d9, 0x01e7, 0x01f6, 0x0204, 0x0212,
        0x021f, 0x022c, 0x0239, 0x0246, 0x0252, 0x025e, 0x0269, 0x0274,
        0x027f, 0x0289, 0x0293, 0x029c, 0x02a6, 0x02ae, 0x02b7, 0x02be,
        0x02c6, 0x02cd, 0x02d3, 0x02d9, 0x02df, 0x02e4, 0x02e9, 0x02ee,
        0x02f1, 0x02f5, 0x02f8, 0x02fa, 0x02fd, 0x02fe, 0x02ff, 0x0300,
};

static const uint32_t tan_table[33] = {
        0,
        402,
        806,
        1215,
        1629,
        2051,
        2485,
        2931,
        3393,
        3874,
        4378,
        4910,
        5473,
        6075,
        6723,
        7424,
        8192,
        9038,
        9981,
        11045,
        12260,
        13667,
        15326,
        17320,
        19777,
        22895,
        27005,
        32704,
        41183,
        55225,
        83174,
        166752,
        // It is impossible for this to be less than anything, guaranteed to break the while loop
        0xFFFFFFFF,
};

// My brain hurts... don't read this
uint8_t get_angle(int32_t curx, int32_t cury, int32_t tgtx, int32_t tgty) {
    uint8_t angle = 0;
    int32_t xdist = (tgtx - curx);
    int32_t ydist = (tgty - cury);
    if (!xdist) return (tgty > cury) ? 0x40 : 0xC0; // Undefined
    uint32_t ratio = (abs(ydist) << 13) / abs(xdist);
    while(tan_table[angle++] < ratio);
    //angle += 1;
    angle <<= 1;
    if (curx > tgtx) angle = 0x80 - angle;
    if (cury > tgty) angle = 0x100 - angle;
    return angle;
}
